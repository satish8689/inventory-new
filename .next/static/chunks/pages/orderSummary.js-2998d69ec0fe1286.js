(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{7695:(t,e,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/orderSummary.js",function(){return o(200)}])},200:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>i});var r=o(4848),l=o(6540),a=o(7037),n=o(3596);o(3246);var s=o(9850),c=o.n(s);function i(t){let{selectedProducts:e=[],setSelectedProducts:o,goBack:s}=t,[i,d]=(0,l.useState)(0);(0,l.useEffect)(()=>{if(!Array.isArray(e)){d(0);return}d(e.reduce((t,e)=>t+(e.proTotalPrice||0),0))},[e]);let m=t=>{o(e.filter(e=>e.id!==t))},u=async()=>{let t=new n.default,o=JSON.parse(localStorage.getItem("userInfo"))||{},r=o.name||"Unknown User",l=o.mobile||"Unknown Contact",a="Test Shop",s="+91 1234567890";t.setFontSize(16),t.text("Order Summary",80,10),t.setFontSize(12),t.text("Customer: ".concat(r),14,20),t.text("Contact: ".concat(l),14,30),t.text("Shop: ".concat(a),120,20),t.text("Shop Contact: ".concat(s),120,30);let c=0,i=e.length,d=e.map((t,e)=>{let o=parseFloat(t.quantity)||0;t.quantity.includes("gm")&&(o/=1e3);let r=o*(t.price||0);return c+=r,[e+1,t.title,t.quantity,"Rs ".concat(t.price),"Rs ".concat(r.toFixed(2))]});t.autoTable({head:[["#","Product","Quantity","Unit Price","Total Price"]],body:[...d,[{content:" ",styles:{fontStyle:"bold",halign:"left",fillColor:"#fff"}},{content:" ",styles:{fontStyle:"bold",halign:"left",fillColor:"#fff"}},{content:" ",styles:{fontStyle:"bold",halign:"left",fillColor:"#fff"}},{content:"Total Products",styles:{fontStyle:"bold",halign:"left",fillColor:"#fff",textColor:"#1d2a35"}},{content:i,styles:{fontStyle:"bold",halign:"left",fillColor:"#fff",textColor:"#1d2a35"}}],[{content:" ",styles:{fontStyle:"bold",halign:"left",fillColor:"#fff"}},{content:" ",styles:{fontStyle:"bold",halign:"left",fillColor:"#fff"}},{content:" ",styles:{fontStyle:"bold",halign:"left",fillColor:"#fff"}},{content:"Total Amount",styles:{fontStyle:"bold",halign:"left",fillColor:"#fff",textColor:"#1d2a35"}},{content:"Rs "+c.toFixed(2),styles:{fontStyle:"bold",halign:"left",fillColor:"#fff",textColor:"#1d2a35"}}]],startY:40});let m="".concat(new Date().toLocaleDateString().replace(/\//g,"-"),"-Order-Summary.pdf");t.save(m);let u=encodeURIComponent("*Order Summary*\n Name: ".concat(r,"\n Contact: ").concat(l,"\n Shop: ").concat(a,"\n Shop Contact: ").concat(s,"\n\n*Total Products:* ").concat(i,"\n *Total Amount:* Rs ").concat(c.toFixed(2),"\n*Note*: Please Attach order file"));window.open("https://wa.me/+918602148689?text=".concat(u),"_blank")};return(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsxs)("header",{className:c().header,children:[(0,r.jsx)("button",{onClick:s,className:c().backButton,children:"â† Back"}),(0,r.jsx)("h1",{children:"Order Summary"})]}),(0,r.jsx)("div",{className:c().orderList,children:e.length>0?e.map(t=>(0,r.jsxs)("div",{className:c().orderItem,children:[(0,r.jsx)("img",{src:t.productImage,alt:t.title,className:c().productImage}),(0,r.jsx)("p",{className:c().productTitle,children:t.title}),(0,r.jsxs)("p",{className:c().quantity,children:["Qty: ",t.quantity]}),(0,r.jsxs)("p",{className:c().price,children:["Rs ",t.price]}),(0,r.jsxs)("p",{className:c().totalPrice,children:["Rs ",(t.proTotalPrice||0).toFixed(2)]}),(0,r.jsx)("button",{onClick:()=>m(t.id),className:c().removeButton,children:(0,r.jsx)(a.qbC,{})})]},t.id)):(0,r.jsx)("p",{children:"No products selected."})}),(0,r.jsxs)("footer",{className:c().footer,children:[(0,r.jsxs)("div",{className:c().summary,children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Total Products:"})," ",e.length]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Total Amount:"})," Rs ",i.toFixed(2)]})]}),(0,r.jsxs)("button",{onClick:u,className:c().whatsappButton,children:[(0,r.jsx)(a.EcP,{})," Place Order"]})]})]})}},9850:t=>{t.exports={container:"orderSummary_container__2Adoy",header:"orderSummary_header__uG_o4",backButton:"orderSummary_backButton__qQhvC",orderList:"orderSummary_orderList__JWa4d",orderItem:"orderSummary_orderItem__4g7Eh",productImage:"orderSummary_productImage__lejcR",productTitle:"orderSummary_productTitle__ojjBp",quantity:"orderSummary_quantity__i10QI",price:"orderSummary_price__FbZds",totalPrice:"orderSummary_totalPrice__PidqZ",removeButton:"orderSummary_removeButton__OQO_r",footer:"orderSummary_footer__myQJN",summary:"orderSummary_summary__DXPEU",whatsappButton:"orderSummary_whatsappButton___zsra"}}},t=>{var e=e=>t(t.s=e);t.O(0,[563,673,831,636,593,792],()=>e(7695)),_N_E=t.O()}]);