(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{4175:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return n(6122)}])},6122:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(4848),d=n(6540);function s(){let[e,t]=(0,d.useState)([]),[n,s]=(0,d.useState)({shop_id:"",ic_product_id:"",price:"",note:"",desc:"",position:""}),[c,o]=(0,d.useState)(null);(0,d.useEffect)(()=>{console.log("calling")},[]);let l=e=>{s({...n,[e.target.name]:e.target.value})},r=async e=>{e.preventDefault(),console.log("form",n)},h=e=>{s(e),o(e.id)},a=async n=>{(await fetch("/api/shop_products/".concat(n),{method:"DELETE"})).ok&&t(e.filter(e=>e.id!==n))};return(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h1",{className:"text-xl font-bold",children:"Manage Shop Products"}),(0,i.jsxs)("form",{onSubmit:r,className:"space-y-2 p-4 border rounded-md",children:[(0,i.jsx)("input",{name:"shop_id",placeholder:"Shop ID",value:n.shop_id,onChange:l,required:!0}),(0,i.jsx)("input",{name:"ic_product_id",placeholder:"Product ID",value:n.ic_product_id,onChange:l,required:!0}),(0,i.jsx)("input",{name:"price",placeholder:"Price",value:n.price,onChange:l,required:!0}),(0,i.jsx)("input",{name:"note",placeholder:"Note",value:n.note,onChange:l}),(0,i.jsx)("input",{name:"desc",placeholder:"Description",value:n.desc,onChange:l}),(0,i.jsx)("input",{name:"position",placeholder:"Position",value:n.position,onChange:l}),(0,i.jsxs)("button",{type:"submit",children:[c?"Update":"Add"," Product"]})]}),(0,i.jsxs)("table",{className:"w-full mt-4",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"ID"}),(0,i.jsx)("th",{children:"Shop"}),(0,i.jsx)("th",{children:"Product"}),(0,i.jsx)("th",{children:"Price"}),(0,i.jsx)("th",{children:"Note"}),(0,i.jsx)("th",{children:"Description"}),(0,i.jsx)("th",{children:"Position"}),(0,i.jsx)("th",{children:"Actions"})]})}),(0,i.jsx)("tbody",{children:e.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.id}),(0,i.jsx)("td",{children:e.shop_id}),(0,i.jsx)("td",{children:e.ic_product_id}),(0,i.jsx)("td",{children:e.price}),(0,i.jsx)("td",{children:e.note}),(0,i.jsx)("td",{children:e.desc}),(0,i.jsx)("td",{children:e.position}),(0,i.jsxs)("td",{children:[(0,i.jsx)("button",{onClick:()=>h(e),children:"Edit"}),(0,i.jsx)("button",{onClick:()=>a(e.id),className:"ml-2",children:"Delete"})]})]},e.id))})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(4175)),_N_E=e.O()}]);